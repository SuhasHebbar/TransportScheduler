language: elixir
elixir:
- 1.4.1
otp_release:
- 19.0

install:
- mix local.rebar --force
- mix local.hex --force
- mix deps.get

script:
- mix test
- mix profile
- MIX_ENV=test mix coveralls.travis
- MIX_ENV=test mix credo --strict || echo -e "\n\n=====Bypassing the failure of credo for now=====\n\n"
- mix sync_benchmark
- mix async_benchmark

after_success:
- mix edeliver build release
- mix edeliver deploy release
- mix edeliver start
